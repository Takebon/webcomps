!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).TcogCursor=e()}(this,(function(){"use strict";var t={render(t,e,s,i,r){return`${this.css(t,e,s,i,r)} ${this.html(t,r)}`},mapDOM:t=>({wrapper:t.getElementById("wrapper"),cursor:t.getElementById("cursor")}),html:(t,e)=>`<div id="wrapper">\n<svg id="cursor" width="${t}" height="${t}" viewBox="0 0 ${t} ${t}">\n<circle class="cursor__inner" cx="${t/2}" cy="${t/2}" r="${t/2-e}"/>\n</svg>\n</div>\n`,css:(t,e,s,i,r)=>`\n<style>\n:host {\nposition: absolute;\nwidth: ${t};\nheight: ${t};\n}\n#wrapper {\n\tpadding:0;\nmargin:0;\nopacity: 0;\ntransition: opacity 0.4s;\n}\n@media (any-pointer: fine) {\n#cursor {\t\t\nposition: fixed;\ntop: 0;\nleft: 0;\ndisplay: block;\npointer-events: none;\t\n}\n.cursor__inner {\nfill: ${e};\nstroke: ${s};\nstroke-width: ${r};\nopacity: ${i};\n}\t\n}\n</style>\n`};let e={x:0,y:0};window.addEventListener("mousemove",t=>e=(t=>{let e=0,s=0;return t||(t=window.event),t.pageX||t.pageY?(e=t.pageX,s=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+body.scrollLeft+document.documentElement.scrollLeft,s=t.clientY+body.scrollTop+document.documentElement.scrollTop),{x:e,y:s}})(t));class s{constructor(t,s){this.DOM={el:t},this.bounds=this.DOM.el.getBoundingClientRect(),this.renderedStyles={tx:{previous:0,current:0,amt:s},ty:{previous:0,current:0,amt:s}},this.onMouseMoveEv=()=>{this.renderedStyles.tx.previous=this.renderedStyles.tx.current=e.x-this.bounds.width/2-this.bounds.x,this.renderedStyles.ty.previous=this.renderedStyles.ty.previous=e.y-this.bounds.height/2-this.bounds.y,this.DOM.el.dom.wrapper.style.opacity="1",requestAnimationFrame(()=>this.render()),window.removeEventListener("mousemove",this.onMouseMoveEv)},window.addEventListener("mousemove",this.onMouseMoveEv)}render(){this.renderedStyles.tx.current=e.x-this.bounds.width/2-this.bounds.x,this.renderedStyles.ty.current=e.y-this.bounds.height/2-this.bounds.y;for(const e in this.renderedStyles)this.renderedStyles[e].previous=(t=this.renderedStyles[e].previous,s=this.renderedStyles[e].current,(1-(i=this.renderedStyles[e].amt))*t+i*s);var t,s,i;this.DOM.el.style.transform=`translateX(${this.renderedStyles.tx.previous}px) translateY(${this.renderedStyles.ty.previous}px)`,requestAnimationFrame(()=>this.render())}}class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.hasAttribute("size")?this.size=this.getAttribute("size"):this.size=80,this.hasAttribute("fill-color")?this.fillColor=this.getAttribute("fill-color"):this.fillColor="#ccc",this.hasAttribute("stroke-color")?this.strokeColor=this.getAttribute("stroke-color"):this.strokeColor=this.fillColor,this.hasAttribute("opacity")?this.opacity=this.getAttribute("opacity"):this.opacity=".8",this.hasAttribute("stroke-width")?this.strokeWidth=this.getAttribute("stroke-width"):this.strokeWidth="2",this.hasAttribute("drag")?this.drag=this.getAttribute("drag"):this.drag=".2",this.shadowRoot.innerHTML=t.render(this.size,this.fillColor,this.strokeColor,this.opacity,this.strokeWidth),this.dom=t.mapDOM(this.shadowRoot);new s(this,this.drag)}}return customElements.get("tcog-cursor")||customElements.define("tcog-cursor",i),i}));
